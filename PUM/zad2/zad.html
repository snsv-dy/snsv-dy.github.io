<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	</head>
	<body>
		<canvas width="800" height="600" style="border: 1px solid red;"></canvas>
		<script>
			var canvas = document.querySelector('canvas');
			var c = canvas.getContext('2d');

			var cw = canvas.width;
			var ch = canvas.height;
			var centerx = cw / 2;
			var centery = ch / 2;
			
			const stepsMax = 5;
			const stepSize = 50;
			const stepBegx = (cw - stepsMax * stepSize) / 2;
			const stepBegy = (ch - stepsMax * stepSize) / 2;

			var starttime = null;

			function drawStep(n) {
				var basex = n * stepSize + stepBegx;
				var basey = n * stepSize + stepBegy;

				c.beginPath();
				c.moveTo(basex, basey);
				c.lineTo(basex + stepSize, basey);
				c.lineTo(basex + stepSize, basey + stepSize);
				c.stroke();
			}

			var stepsDrawn = 5;

			function frame(timestamp) {
				c.clearRect(0, 0, cw, ch);
				for (var i = 0; i < stepsDrawn; i++) {
					drawStep(i);
				}

				if (stepsDrawn < stepsMax) {
					stepsDrawn++;
					setTimeout(window.requestAnimationFrame, 1000, frame);
				} else {
					// For debugging 
					setTimeout(window.requestAnimationFrame, 100, frame);
					// window.requestAnimationFrame(frame);
				}
			}

			window.requestAnimationFrame(frame);
		</script>
	</body>
</html>